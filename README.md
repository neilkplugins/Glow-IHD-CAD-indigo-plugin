# Glow-IHD-CAD-indigo-plugin
 An Indigo Plugin that integrates with the Glowmarkt "Smarter Meter" service www.glowmarkt.com and specifically their combined "In Home Display" (IHD) and "Consumer Access Device" (CAD) available https://shop.glowmarkt.com/ from Hildebrand Technology Limited.
 
 I have no affiliation with Glow, Glowmarkt or Hildebrand Technology Ltd, this plugin is not endorsed or supported by them, it does use their API's and MQTT service.  It is provided on an as is basis as a community contribution.
 
The Glow combined IHD and CAD replaces the very limited IHD that was probably supplied when you had your smart meter installed.  Even without Indigo integration, this is already a huge improvment providing real time "Bright app" based access to your energy usage (for Gas it is a little less real time due to the way the metering works, and the Gas meter being a battery operated slave to the powered smart electricity meter).  The Glow CAD/IHD connects to the Smart Meter Personal Area Network (PAN) via Zigbee, but you cannot access this data locally or pair your own devices to the meter.  Hildebrand can as they are licensed to access the DCC (the infrastructure than all energy suppliers must use to collect smart meter data, and to enable simple Smart Meter switching without losing "smartness" on the way).  As a result with the latest generation SMETS2 meters (as all new ones must be) you can access your consumption data independenlty of your supplier, and gain access to all of it not just the limited information your supplier may share and in real time.  You cannot access the Zigbee data directly, it has to go to Hildebrand's infrastructure (The Glow IHD/CAD connects to your wifi to enable this), but they provide the data back in the form of an API and an MQTT service.  The first version of this plugin utilises the MQTT data, but will be enriched by also accessing the API.
 
The initial version of the plugin consumes the payload sent from the associated MQTT service and builds on the excellent work by one of the Indigo Communities most prolific contributors (flyingdiver).  You do not need to learn anything about MQTT beyond downloading the MQTT Broker Plugin and configuring it (for which I will provide detailed instructions).
 
 The UK Smart Meter implementation started with first generation "SMETS1" meters that were essentially tied to a specific energy supplier, and that in many cases reverted to being "dumb" if you changed energy suppiers.  Hildebrand produce the "GlowStick" that interfaces with SMETS1, but I do not have access to a device to test, but I am happy to work with someone if they send me a copy of the relevant JSON payload from MQTT service (and I can explain how to do that in Indigo).  These are being migrated to the DCC which should allow them to work, but I will need to work with users to test this.
 
The plugin appears as an energy monitoring device in Indigo that also shows the "real time" electricity consumption in Watts, which is updated every few seconds when a MQTT payload arrives.  It also shows historical consumption for gas and electricity across various periods (Day/Month/Year) that are available in the MQTT data. (and potentially more via the API in the future).  I have also integrated it with my Octopus energy plugin so that you can project an "hourly" electricity cost based on your actual current usage.  All of these stages can be graphed, trigger on high usage/cost to shape demand and many more approaches I have not considered.  It essentially allows you to control when you consume energy, to alert your family the best times to consume energy.  This has broader benefit than cost optimisation, as the times of low rates also coincide with good availability of renewable energy.

Documentation is https://github.com/neilkplugins/Glow-IHD-CAD-indigo-plugin/wiki

The current versions are alpha, and by using it then you will experience errors, including on the interpretation of the data (that is done by the plugin) but you will help me test and validate this.
